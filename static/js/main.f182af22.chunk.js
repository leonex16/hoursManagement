(this["webpackJsonphours-management"]=this["webpackJsonphours-management"]||[]).push([[0],{185:function(e,t,n){},186:function(e,t,n){"use strict";n.r(t);var r,a,c=n(1),i=n.n(c),s=n(61),o=n.n(s),l=n(266),u=n(254),d=n(247),j=n(260),h=n(256),p=n(12),b=n(19);!function(e){e[e.fifty=0]="fifty",e[e.oneHundred=1]="oneHundred"}(r||(r={})),function(e){e[e["Ma\xf1ana"]=0]="Ma\xf1ana",e[e.Tarde=1]="Tarde",e[e.Noche=2]="Noche"}(a||(a={}));var f=n(0),O={checkIn:null,checkOut:null,overtimeType:r.fifty,overtimeQuant:-1,shiftType:a["Ma\xf1ana"],isFormValidated:!1},x=Object(c.createContext)(null);function v(e){var t=e.children,n=Object(c.useReducer)(m,O),r=Object(p.a)(n,2),a=r[0],i=r[1];return Object(f.jsx)(x.Provider,{value:{ctx:a,dispatch:i},children:t})}function m(e,t){switch(t.type){case"CALCULATE_OVERTIME":return Object(b.a)(Object(b.a)({},e),{},{overtimeQuant:t.payload});case"VALIDATE_FORM":return Object(b.a)(Object(b.a)({},e),{},{isFormValidated:t.payload});case"UPDATE_STATE":return Object(b.a)(Object(b.a)({},e),t.payload);case"RESET_FORM":return O;default:return e}}function g(e,t){switch(t.type){case"FILL_INFORMATION":return t.payload;case"NOT_ACTION":return e}}var y={uid:"",firtname:"",lastname:"",email:""},w=Object(c.createContext)(null);function k(e){var t=e.children,n=Object(c.useReducer)(g,y),r=Object(p.a)(n,2),a=r[0],i=r[1];return Object(f.jsx)(w.Provider,{value:{userInformation:a,dispatch:i},children:t})}var C=n(97),T=n(26),S=n(253),I=["/auth","/","/resume","/settings"],M=n(17),N=n.n(M),L=n(24),A=n(243),H=n(270),D=n(244),E=n(271),F=n(245),_=n(272),R=n(246),U=n(268),P=n(273),z=n(258),W=n(264),B=n(279),G=n(257),Q=n(265),V=n(275),Y=n(276),Z=n(262),J=n(259),X=n(255),q=n(64);n(173),n(174);q.a.initializeApp({apiKey:"AIzaSyDGfASiU2jXFJ4boAwCiNupsFUmkEfsbCM",authDomain:"hour-management-e6747.firebaseapp.com",projectId:"hour-management-e6747",storageBucket:"hour-management-e6747.appspot.com",messagingSenderId:"761707441154",appId:"1:761707441154:web:0203745d9536d89a344b1b",measurementId:"G-E670GG057S"}),q.a.analytics();var K=new q.a.auth.GoogleAuthProvider,$=function(){return q.a.auth().signInWithPopup(K)},ee=q.a.firestore(),te=ee.collection("users");function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(L.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te.doc(t).collection("dialHistory"),e.next=3,n.get();case 3:return r=e.sent,a=r.docs,e.abrupt("return",a.map((function(e){return e.data()})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(L.a)(N.a.mark((function e(t,n){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,delete n.isFormValidated,r=n,a=te.doc(t).collection("dialHistory"),e.next=6,a.add(r);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.log("Error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ie(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n.setHours(0,0,0,0),n}var se=n(5);function oe(e,t){return(t.getTime()-e.getTime())/36e5}function le(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(L.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://apis.digital.gob.cl/fl/feriados/".concat(t.getFullYear(),"/").concat(t.getMonth()+1));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,a=r.map((function(e){return new Date(e.fecha).getDate()+1})),e.abrupt("return",0===t.getDay()||!0===a.includes(t.getDate()));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return je.apply(this,arguments)}function je(){return(je=Object(L.a)(N.a.mark((function e(t){var n,r,a,c,i,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={type:"NOT_ACTION",payload:null},r=t.checkIn,a=t.checkOut,c=t.shiftType,i={0:7.5,1:9,2:9},null!==r&&null!==a){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,le(new Date(r));case 7:if(e.t0=e.sent,!0!==e.t0){e.next=12;break}e.t1=oe(new Date(r),new Date(a)),e.next=13;break;case 12:e.t1=oe(new Date(r),new Date(a))-i[c];case 13:if(!((s=e.t1)<0)){e.next=16;break}return e.abrupt("return",n);case 16:return n.type="CALCULATE_OVERTIME",n.payload=s,e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){var t={type:"VALIDATE_FORM",payload:!0};return(null===e||null===e.checkOut||e.overtimeQuant<0)&&(t.payload=!1),t}function pe(e){var t=e.checkOut,n=e.overtimeQuant,r={open:!0,message:"",severity:""};switch(!0){case null===t:r.message="Debes ingresar hora de salida \ud83e\udd7a",r.severity="error";break;case n<0:r.message="Hora de entrada o salida no v\xe1lidas \ud83d\ude1f",r.severity="error";break;default:r.message="Horas Guardadas \ud83d\ude0e",r.severity="success"}return r}var be=n(267),fe=function(){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",backgroundColor:"transparent",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[Object(f.jsx)("defs",{children:Object(f.jsx)("clipPath",{id:"ldio-tp2uhmrgm7-cp",children:Object(f.jsx)("rect",{x:"0",y:"0",width:"100",height:"82.235"})})}),Object(f.jsx)("path",{stroke:"#dcdcdc",strokeWidth:"1",fill:"#dcdcdc",d:"M85.529 75.177H14.471c-2.469 0-4.471 2.002-4.471 4.471h80C90 77.179 87.998 75.177 85.529 75.177z"}),Object(f.jsx)("g",{clipPath:"url(#ldio-tp2uhmrgm7-cp)",children:Object(f.jsxs)("g",{children:[Object(f.jsx)("animateTransform",{attributeName:"transform",type:"translate",repeatCount:"indefinite",dur:"1.25s",values:"0 0;0 150",keyTimes:"0;1"}),Object(f.jsxs)("g",{transform:"translate(0 -75)",children:[Object(f.jsx)("path",{fill:"#ffb856",d:"M50 25c-13.785 0-25 11.215-25 25s11.215 25 25 25s25-11.216 25-25S63.784 25 50 25z M50 70.845 c-11.494 0-20.844-9.351-20.844-20.845S38.506 29.155 50 29.155S70.845 38.506 70.845 50S61.493 70.845 50 70.845z"}),Object(f.jsx)("path",{fill:"#ffd55d",d:"M50 29.155c-11.494 0-20.844 9.351-20.844 20.844S38.506 70.845 50 70.845S70.845 61.493 70.845 50S61.493 29.155 50 29.155 z"}),Object(f.jsx)("path",{fill:"#ffff34",d:"M48.11 62.796v-1.64c-1.535-0.068-3.041-0.358-4.281-0.765c-1.029-0.337-1.611-1.421-1.342-2.469 l0.043-0.167c0.297-1.158 1.521-1.781 2.653-1.395c1.152 0.392 2.465 0.662 3.855 0.662c2.032 0 3.421-0.783 3.421-2.21 c0-1.354-1.14-2.21-3.778-3.101c-3.814-1.283-6.416-3.066-6.416-6.523c0-3.137 2.211-5.596 6.025-6.345v-1.639 c0-0.965 0.782-1.746 1.746-1.746h0c0.965 0 1.746 0.782 1.746 1.746v1.39c1.275 0.057 2.327 0.226 3.21 0.459 c1.107 0.291 1.782 1.404 1.498 2.513v0c-0.287 1.118-1.44 1.803-2.546 1.473c-0.843-0.251-1.887-0.453-3.16-0.453 c-2.317 0-3.066 0.998-3.066 1.997c0 1.176 1.247 1.924 4.277 3.065c4.241 1.498 5.953 3.458 5.953 6.666 c0 3.173-2.246 5.882-6.345 6.594v1.89c0 0.965-0.782 1.746-1.746 1.746h-0.001C48.892 64.543 48.11 63.761 48.11 62.796z"})]})]})}),Object(f.jsx)("path",{stroke:"#dcdcdc",strokeWidth:"1",fill:"#dcdcdc",d:"M14.471 84.823h71.058c2.469 0 4.471-2.002 4.471-4.471v-0.704H10v0.704C10 82.821 12.002 84.823 14.471 84.823z"})]}),Object(f.jsx)("p",{className:"loading-text anim-typewriter",children:"Cargando..."}),Object(f.jsx)("style",{children:"\n                .loading-text { \n                  text-align: center; \n                  font-weight: bolder; \n                  font-size: 1.5rem; \n\n                  border-right: 5px solid rgba(255,255,255,.75);\n                  margin: 0 auto;\n                  overflow: hidden;\n                }\n                .anim-typewriter{\n                  animation: typewriter 1.5s steps(10)  infinite ,\n                             blinkTextCursor 500ms infinite ;\n                }\n                @keyframes typewriter{\n                  0%{width: 0;}\n                  50%{width: 165px;}\n                  100%{width: 165px;}\n                }\n                @keyframes blinkTextCursor{\n                  from{border-right-color: rgba(255,255,255,.75);}\n                  to{border-right-color: transparent;}\n                }\n        "})]})},Oe=function(e){var t=e.isLoading;return Object(f.jsx)(be.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t,children:Object(f.jsx)(fe,{})})},xe=function(){var e={open:!1,message:"",autoHideDuration:3e3,severity:"success",anchorOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return d(Object(b.a)(Object(b.a)({},u),{},{open:!1}))},TransitionComponent:function(e){return Object(f.jsx)(A.a,Object(b.a)(Object(b.a)({},e),{},{direction:"down"}))}},t=Object(c.useContext)(x),n=t.ctx,i=t.dispatch,s=Object(c.useContext)(w).userInformation,o=Object(c.useState)(e),l=Object(p.a)(o,2),u=l[0],d=l[1],j=Object(c.useState)(!1),h=Object(p.a)(j,2),O=h[0],v=h[1],m=function(e){i(function(e){var t,n,r,a={type:"NOT_ACTION",payload:null},c=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name,i=null!==(n=null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==n?n:e;return i instanceof Date&&i.setSeconds(0),a.type="UPDATE_STATE",a.payload=Object(se.a)({},c,i),a}(e)),i(he(null))},g=function(){var e=Object(L.a)(N.a.mark((function e(){var t,r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(n);case 2:return r=e.sent,a=Object(b.a)(Object(b.a)({},n),{},{overtimeQuant:null!==(t=r.payload)&&void 0!==t?t:-1}),c=pe(a),e.t0=i,e.next=8,de(a);case 8:e.t1=e.sent,(0,e.t0)(e.t1),i(he(a)),"error"===c.severity&&d(Object(b.a)(Object(b.a)({},u),c));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(L.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),"success"!==(t=pe(n)).severity){e.next=7;break}return e.next=5,ae(s.uid,n);case 5:!0===e.sent&&i({type:"RESET_FORM",payload:null});case 7:d(Object(b.a)(Object(b.a)({},u),t)),v(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(H.a,{className:"main-container",children:[Object(f.jsxs)(D.a,{component:"article",spacing:3,children:[Object(f.jsx)(E.a,{variant:"h4",children:"Agregar Horas"}),Object(f.jsx)(F.a,{}),Object(f.jsxs)(D.a,{component:"form",spacing:3,children:[Object(f.jsxs)(_.a,{fullWidth:!0,component:"fieldset",children:[Object(f.jsx)(R.a,{component:"legend",children:"Hora extra realizada:"}),Object(f.jsxs)(U.a,{className:"flex-container-evenly",value:Number(n.overtimeType),row:!0,onChange:m,"aria-label":"Hora extra realizada:",name:"Hora extra realizada:",defaultValue:"top",children:[Object(f.jsx)(P.a,{name:"overtimeType",value:r.fifty,control:Object(f.jsx)(z.a,{}),label:"50%",labelPlacement:"top"}),Object(f.jsx)(P.a,{name:"overtimeType",value:r.oneHundred,control:Object(f.jsx)(z.a,{}),label:"100%",labelPlacement:"top"})]})]}),Object(f.jsx)(_.a,{fullWidth:!0,children:Object(f.jsx)(X.a,{label:"Hora de Entrada",value:n.checkIn,onChange:function(e){return m({target:{value:e,name:"checkIn"}})},renderInput:function(e){return Object(f.jsx)(W.a,Object(b.a)({},e))},minutesStep:15,ampm:!1,inputFormat:"dd/MM/yyyy HH:mm:ss"})}),Object(f.jsx)(_.a,{fullWidth:!0,children:Object(f.jsx)(X.a,{label:"Hora de Salida",value:n.checkOut,onChange:function(e){return m({target:{value:e,name:"checkOut"}})},renderInput:function(e){return Object(f.jsx)(W.a,Object(b.a)({},e))},minDateTime:n.checkIn,maxDateTime:ie(n.checkIn,2),minutesStep:15,ampm:!1,inputFormat:"dd/MM/yyyy HH:mm:ss"})}),Object(f.jsxs)(_.a,{fullWidth:!0,children:[Object(f.jsx)(B.a,{id:"demo-simple-select-label",children:"Seleccione Turno"}),Object(f.jsxs)(G.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:Number(n.shiftType),label:"Seleccione Turno",name:"shiftType",onChange:m,children:[Object(f.jsx)(Q.a,{value:a["Ma\xf1ana"],children:a[0]}),Object(f.jsx)(Q.a,{value:a.Tarde,children:a[1]}),Object(f.jsx)(Q.a,{value:a.Noche,children:a[2]})]})]}),Object(f.jsx)(_.a,{fullWidth:!0,children:Object(f.jsx)(V.a,{variant:"outlined",onClick:g,children:"Calcular Horas"})})]}),Object(f.jsx)(Y.a,{className:"".concat(!1===n.isFormValidated&&"hidden"),elevation:5,children:Object(f.jsxs)(D.a,{component:"form",spacing:2,children:[Object(f.jsx)(E.a,{variant:"h5",component:"h5",align:"center",children:"Has realizado"}),Object(f.jsx)(E.a,{variant:"h3",component:"h3",align:"center",children:n.overtimeQuant}),Object(f.jsx)(E.a,{variant:"h5",component:"h5",align:"center",children:"Horas Extras"}),Object(f.jsx)(_.a,{fullWidth:!0,children:Object(f.jsx)(V.a,{variant:"contained",onClick:y,children:"Guardar Horas"})})]})})]}),Object(f.jsx)(Z.a,Object(b.a)(Object(b.a)({},u),{},{children:Object(f.jsx)(J.a,{severity:u.severity,variant:"filled",sx:{width:"100%"},children:u.message})})),Object(f.jsx)(Oe,{isLoading:O})]})};function ve(e){var t=I.findIndex((function(t){return t.toLowerCase()===e.toLowerCase()}));if(-1===t)throw new Error("ROUTE ".concat(e.toLowerCase()," NOT FOUND"));return t}function me(e,t,n){var r,a=ve("/auth");0===(null===e||void 0===e||null===(r=e.uid)||void 0===r?void 0:r.length)?t.replace(I[a]):t.push(n)}var ge=function(){return Object(f.jsxs)("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(f.jsx)("title",{children:"btn_google_dark_normal_ios"}),Object(f.jsx)("desc",{children:"Created with Sketch."}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1",children:[Object(f.jsx)("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),Object(f.jsx)("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),Object(f.jsx)("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),Object(f.jsx)("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),Object(f.jsx)("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),Object(f.jsx)("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),Object(f.jsxs)("feMerge",{children:[Object(f.jsx)("feMergeNode",{in:"shadowMatrixOuter1"}),Object(f.jsx)("feMergeNode",{in:"shadowMatrixOuter2"}),Object(f.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),Object(f.jsx)("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),Object(f.jsx)("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})]}),Object(f.jsxs)("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(f.jsx)("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),Object(f.jsxs)("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)",children:[Object(f.jsx)("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)",children:Object(f.jsxs)("g",{id:"button-bg",children:[Object(f.jsx)("use",{fill:"#4285F4",fillRule:"evenodd",xlinkHref:"#path-2"}),Object(f.jsx)("use",{fill:"none",xlinkHref:"#path-2"}),Object(f.jsx)("use",{fill:"none",xlinkHref:"#path-2"}),Object(f.jsx)("use",{fill:"none",xlinkHref:"#path-2"})]})}),Object(f.jsxs)("g",{id:"button-bg-copy",children:[Object(f.jsx)("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-3"}),Object(f.jsx)("use",{fill:"none",xlinkHref:"#path-3"}),Object(f.jsx)("use",{fill:"none",xlinkHref:"#path-3"}),Object(f.jsx)("use",{fill:"none",xlinkHref:"#path-3"})]}),Object(f.jsxs)("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)",children:[Object(f.jsx)("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),Object(f.jsx)("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),Object(f.jsx)("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),Object(f.jsx)("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),Object(f.jsx)("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})]}),Object(f.jsx)("g",{id:"handles_square"})]})]})]})},ye={"auth/popup-closed-by-user":"NO SE HA COMPLETADO LA AUTENTICACI\xd3N","auth/cancelled-popup-request":"NO SE HA COMPLETADO LA AUTENTICACI\xd3N"};function we(e){if(Object.keys(e).includes("uid"))return{type:"FILL_INFORMATION",payload:e};var t={type:"NOT_ACTION",payload:null},n=e.additionalUserInfo;if(void 0===(null===n||void 0===n?void 0:n.profile)||null===(null===n||void 0===n?void 0:n.profile))return console.error("NOT FOUND USER INFORMATION"),t;var r=n.profile;for(var a in r)if(void 0===r[a])return console.error("PROPERTY ".concat(a.toUpperCase()," IS UNDEFINED")),t;var c={uid:r.id,email:r.email.toUpperCase(),firtname:r.given_name.toUpperCase(),lastname:r.family_name.toUpperCase()};return t.type="FILL_INFORMATION",t.payload=c,t}var ke=ee.collection("users");function Ce(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(L.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ke.where("email","==",t.toUpperCase()),e.next=3,n.get();case 3:return r=e.sent,a=1===r.docs.length?Object(b.a)(Object(b.a)({},r.docs[0].data()),{},{uid:r.docs[0].id}):null,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(L.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(n=Object(b.a)({},t)).uid,e.next=4,ke.add(n);case 4:return r=e.sent,e.abrupt("return",r.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(L.a)(N.a.mark((function e(){var t,n,r,a,c,i,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$();case 3:return r=e.sent,a=null!==(t=null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.email)&&void 0!==t?t:"",e.next=7,Ce(a);case 7:if(null!==(c=e.sent)){e.next=15;break}return i=we(r),e.next=12,Se(i.payload);case 12:return s=e.sent,i.payload.uid=s,e.abrupt("return",i);case 15:return e.abrupt("return",{type:"FILL_INFORMATION",payload:c});case 19:e.prev=19,e.t0=e.catch(0),void 0!==ye[null===e.t0||void 0===e.t0?void 0:e.t0.code]&&console.error(ye[null===e.t0||void 0===e.t0?void 0:e.t0.code]),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}var Le=function(){var e=Object(c.useContext)(w),t=e.userInformation,n=e.dispatch,r=Object(T.g)(),a=function(){var e=Object(L.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me();case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:n(t),me(t.payload,r,"/");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){me(t,r,"/")}),[null===t||void 0===t?void 0:t.uid]),Object(f.jsx)(H.a,{style:{height:"calc(100% - 56px)"},children:Object(f.jsx)(D.a,{style:{transform:"translate(0px, 56px)"},minHeight:"100%",direction:"column",alignItems:"center",justifyContent:"center",children:Object(f.jsx)(V.a,{className:"button-logIn",variant:"contained",startIcon:Object(f.jsx)(ge,{}),onClick:a,children:"Iniciar Sesi\xf3n Con Google"})})})},Ae=n(23),He=n(283),De=n(284),Ee=n(285),Fe=n(280),_e=n(281),Re=n(286);function Ue(e,t){var n=new Date(e.getTime()),r=n.getMonth();return n.setMonth(r+t),n}function Pe(e){return new Date(1e3*e)}function ze(e){return We.apply(this,arguments)}function We(){return(We=Object(L.a)(N.a.mark((function e(t){var n,r,a,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r=864e5,e.next=4,fetch("https://apis.digital.gob.cl/fl/feriados/".concat(t.getFullYear(),"/").concat(t.getMonth()+1));case 4:return a=e.sent,e.next=7,a.json();case 7:for(c=e.sent,i=c.map((function(e){return new Date(e.fecha).getDate()+1}));!1===n;)6===t.getDay()||0===t.getDay()||!0===i.includes(t.getDate())?(t=new Date(t.getTime()+r),n=!0!==i.includes(t.getDate())):n=!0;return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){return Intl.DateTimeFormat("es-CL",{month:"long"}).format(e)}function Ge(e){var t=new Promise((function(e){return e({})}));return e.reduce(function(){var e=Object(L.a)(N.a.mark((function e(t,n){var r,a,c,i,s,o,l,u,d,j,h,p,b;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return r=e.sent,a=Pe(n.checkOut.seconds),e.next=6,ze(a);case 6:return c=e.sent,i=Ue(c,-1),s=Ue(c,0),o=Ue(c,1),l=i.getFullYear(),u=s.getFullYear(),d=o.getFullYear(),j=Be(i),h=Be(s),p=Be(o),b=c.getDate()<=19?"".concat(i.getMonth(),"_").concat(j,"_").concat(l,"_a_").concat(h,"_").concat(u):"".concat(s.getMonth(),"_").concat(h,"_").concat(u,"_a_").concat(p,"_").concat(d),!0===r.hasOwnProperty(b)?r[b].push(n):r[b]=[n],e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t)}function Qe(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=[],n=0;n<64;n++){var r=e.charAt(Math.round(Math.random()*e.length));""!==r?t.push(r):n--}return t.join("").replace(/(.{8})/g,"-$1").substring(1)}var Ve=n(274),Ye=n(282),Ze=n(137),Je=n.n(Ze),Xe=n(136),qe=n.n(Xe),Ke=function(e){var t=e.dialHistory,n=Pe(t.checkOut.seconds),r=t.overtimeQuant,a=t.overtimeType;return Object(f.jsxs)(Fe.a,{children:[Object(f.jsx)(_e.a,{colSpan:3,align:"center",children:n.toLocaleDateString("es-CL")}),Object(f.jsx)(_e.a,{colSpan:2,align:"center",children:0===a?r:"-"}),Object(f.jsx)(_e.a,{colSpan:2,align:"center",children:1===a?r:"-"})]})},$e=function(e){var t=e.dialHistory,n=e.periodName,r=e.totalOvertime,a=Object(c.useState)(!1),i=Object(p.a)(a,2),s=i[0],o=i[1],l=n.split("_").slice(1).join(" ").toUpperCase();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Fe.a,{children:[Object(f.jsx)(_e.a,{colSpan:3,align:"center",children:l}),Object(f.jsx)(_e.a,{colSpan:2,align:"center",children:r[50]}),Object(f.jsx)(_e.a,{colSpan:2,align:"center",children:r[100]}),Object(f.jsx)(_e.a,{colSpan:1,align:"center",children:Object(f.jsx)(Ve.a,{size:"small",onClick:function(){return o(!s)},children:s?Object(f.jsx)(qe.a,{}):Object(f.jsx)(Je.a,{})})})]}),Object(f.jsx)(Fe.a,{children:Object(f.jsx)(_e.a,{style:{padding:0},colSpan:8,children:Object(f.jsx)(Ye.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(f.jsx)(H.a,{children:Object(f.jsx)(He.a,{children:Object(f.jsxs)(De.a,{stickyHeader:!0,size:"small",children:[Object(f.jsxs)(Ee.a,{children:[Object(f.jsxs)(Fe.a,{children:[Object(f.jsx)(_e.a,{colSpan:3,rowSpan:2,align:"center",children:"Fecha"}),Object(f.jsx)(_e.a,{colSpan:4,align:"center",children:"Horas"})]}),Object(f.jsxs)(Fe.a,{children:[Object(f.jsx)(_e.a,{colSpan:2,align:"center",children:"50%"}),Object(f.jsx)(_e.a,{colSpan:2,align:"center",children:"100%"})]})]}),Object(f.jsx)(Re.a,{sx:{backgroundColor:"#121212"},children:t.map((function(e){return Object(f.jsx)(Ke,{dialHistory:e},Qe())}))})]})})})})})})]})},et=function(){var e=Object(c.useContext)(w).userInformation,t=Object(c.useState)([]),n=Object(p.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(p.a)(i,2),o=s[0],l=s[1],u=function(e,t){var n=[].concat(Object(Ae.a)(e),[t]);return n.sort((function(e,t){var n=Number(e.props.periodName.split("_")[0]),r=Number(t.props.periodName.split("_")[0]);return n>r?1:n<r?-1:0})),n},d=function(){var t=Object(L.a)(N.a.mark((function t(){var n,r,c,i,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={50:0,100:0},t.next=3,ne(e.uid);case 3:return r=t.sent,t.next=6,Ge(r);case 6:for(s in c=t.sent,console.log(c),i=function(e){var t=c[e].reduce((function(e,t){return 0===t.overtimeType?e[50]+=t.overtimeQuant:e[100]+=t.overtimeQuant,e}),n),r=Object(f.jsx)($e,{dialHistory:c[e],periodName:e,totalOvertime:Object(b.a)({},t)},Qe());a((function(e){return u(e,r)}))},c)i(s);l(!1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){l(!0),0!==(null===e||void 0===e?void 0:e.uid.length)&&Object(L.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}),[e.uid]),Object(f.jsxs)(H.a,{className:"main-container",children:[Object(f.jsxs)(D.a,{spacing:3,children:[Object(f.jsx)(E.a,{variant:"h4",children:"Resumen"}),Object(f.jsx)(F.a,{}),Object(f.jsx)(He.a,{className:"white",children:Object(f.jsxs)(De.a,{stickyHeader:!0,size:"small",children:[Object(f.jsxs)(Ee.a,{children:[Object(f.jsxs)(Fe.a,{children:[Object(f.jsx)(_e.a,{colSpan:3,rowSpan:2,align:"center",children:"Per\xedodo"}),Object(f.jsx)(_e.a,{colSpan:6,align:"center",children:"Horas"})]}),Object(f.jsxs)(Fe.a,{children:[Object(f.jsx)(_e.a,{colSpan:3,align:"center",children:"50%"}),Object(f.jsx)(_e.a,{colSpan:2,align:"left",children:"100%"})]})]}),Object(f.jsx)(Re.a,{sx:{backgroundColor:"#121212"},children:null!==r&&r.map((function(e){return e}))})]})})]}),Object(f.jsx)(Oe,{isLoading:o})]})},tt=n(252),nt=n(287),rt=n(288),at=n(138),ct=n.n(at),it=n(139),st=n.n(it),ot=function(){var e=Object(c.useState)(1),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(T.g)();return Object(c.useEffect)((function(){var e=ve(a.location.pathname);r(e)}),[a.location.pathname]),Object(f.jsx)(H.a,{disableGutters:!0,children:Object(f.jsxs)(nt.a,{value:n,onChange:function(e,t){r(t),a.push(I[t])},children:[Object(f.jsx)(rt.a,{value:ve("/"),label:"Inicio",icon:Object(f.jsx)(ct.a,{})}),Object(f.jsx)(rt.a,{value:ve("/resume"),label:"Resumen",icon:Object(f.jsx)(st.a,{})})]})})},lt=function(e){var t,n=Object(c.useContext)(w).userInformation,r=e.exact,a=e.path,i=e.Component,s=Object(T.g)();return Object(c.useEffect)((function(){me(n,s,a)}),[null===n||void 0===n?void 0:n.uid]),0===(null===n||void 0===n||null===(t=n.uid)||void 0===t?void 0:t.length)?Object(f.jsx)(T.a,{to:I[0]}):Object(f.jsxs)(tt.a,{children:[Object(f.jsx)(tt.a,{children:Object(f.jsx)(T.b,{exact:r,path:a,component:function(e){return Object(f.jsx)(i,Object(b.a)({},e))}})}),Object(f.jsx)(tt.a,{"data-bottom-navbar":!0,children:Object(f.jsx)(ot,{})})]})},ut=function(){return Object(f.jsx)(C.a,{basename:"/hoursManagement",hashType:"slash",children:Object(f.jsx)(S.a,{className:"router-container",children:Object(f.jsx)(S.a,{className:"router-body",children:Object(f.jsxs)(T.d,{children:[Object(f.jsx)(lt,{exact:!0,path:I[1],Component:xe}),Object(f.jsx)(lt,{exact:!0,path:I[2],Component:et}),Object(f.jsx)(T.b,{exact:!0,path:I[0],component:Le}),Object(f.jsx)(T.a,{to:I[0]})," "]})})})})},dt=n(120),jt=Object(dt.a)({palette:{mode:"dark"}});var ht=function(){return Object(f.jsx)(l.a,{theme:jt,children:Object(f.jsx)(u.a,{children:Object(f.jsx)(k,{children:Object(f.jsx)(d.b,{dateAdapter:h.a,locale:j.a,children:Object(f.jsx)(v,{children:Object(f.jsx)(ut,{})})})})})})},pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(185);o.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(ht,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hoursManagement",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hoursManagement","/service-worker.js");pt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):bt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):bt(t,e)}))}}()}},[[186,1,2]]]);
//# sourceMappingURL=main.f182af22.chunk.js.map