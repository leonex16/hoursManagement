(this["webpackJsonphours-management"]=this["webpackJsonphours-management"]||[]).push([[0],{163:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),i=n.n(c),o=n(53),s=n.n(o),l=n(222),d=n(230),u=n(12);!function(e){e[e.fifty=0]="fifty",e[e.oneHundred=1]="oneHundred"}(a||(a={})),function(e){e[e["Ma\xf1ana"]=0]="Ma\xf1ana",e[e.Tarde=1]="Tarde",e[e.Noche=2]="Noche"}(r||(r={}));var j=n(22);function h(e,t){switch(t.type){case"CALCULATE_OVERTIME":return Object(j.a)(Object(j.a)({},e),{},{overtimeQuant:t.payload});case"VALIDATE_FORM":return Object(j.a)(Object(j.a)({},e),{},{isFormValidated:t.payload});case"UPDATE_STATE":return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}}function b(e,t){switch(t.type){case"FILL_INFORMATION":return t.payload;case"NOT_ACTION":return e}}var p=n(2),O={checkIn:null,checkOut:null,overtimeType:a.fifty,overtimeQuant:-1,shiftType:r["Ma\xf1ana"],isFormValidated:!1},f=Object(c.createContext)(null);function m(e){var t=e.children,n=Object(c.useReducer)(h,O),a=Object(u.a)(n,2),r=a[0],i=a[1];return Object(p.jsx)(f.Provider,{value:{ctx:r,dispatch:i},children:t})}var v=n(41),x=n.n(v),g=n(54),y=n(93);n(151),n(152);y.a.initializeApp({apiKey:"AIzaSyDGfASiU2jXFJ4boAwCiNupsFUmkEfsbCM",authDomain:"hour-management-e6747.firebaseapp.com",projectId:"hour-management-e6747",storageBucket:"hour-management-e6747.appspot.com",messagingSenderId:"761707441154",appId:"1:761707441154:web:0203745d9536d89a344b1b",measurementId:"G-E670GG057S"}),y.a.analytics();var w=y.a.firestore(),k=w.collection("users");function T(){return(T=Object(g.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get();case 2:return t=e.sent,n=t.docs,e.abrupt("return",n.map((function(e){var t=e.id;return Object(j.a)(Object(j.a)({},e.data()),{},{uid:t})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I={uid:"",rut:0,dv:"",firtname:"",lastname:"",email:""},C=Object(c.createContext)(null);function N(e){var t=e.children,n=Object(c.useReducer)(b,I),a=Object(u.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){(function(){return T.apply(this,arguments)})().then((function(e){var t=e.find((function(e){return 10569251===e.rut}));i(function(e){var t={type:"NOT_ACTION",payload:null};return void 0===e?(console.error("NOT FOUND USER INFORMATION"),t):(t.type="FILL_INFORMATION",t.payload=e,t)}(t))}))}),[]),Object(p.jsx)(C.Provider,{value:{ctx:r,dispatch:i},children:t})}var S=n(119),A=n(25),M=n(254),H=n(217),E=n(242),F=n(220),D=n(243),z=n(221),W=n(239),R=n(244),L=n(232),_=n(238),U=n(251),P=n(231),V=n(235),G=n(247),Q=n(248),B=n(245),J=n(236),X=n(233),K=n(240),Y=n(229),$=w.collection("users");function q(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(g.a)(x.a.mark((function e(t,n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,delete n.isFormValidated,a=n,r=$.doc(t).collection("dialHistory"),e.next=6,r.add(a);case 6:return c=e.sent,e.t0=console,e.next=10,c.get();case 10:return e.t1=e.sent.data(),e.t0.log.call(e.t0,e.t1),c.delete(),e.abrupt("return",!0);case 16:return e.prev=16,e.t2=e.catch(0),console.log("Error"),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function ee(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n.setHours(0,0,0,0),n}var te=n(6);function ne(e){var t={type:"NOT_ACTION",payload:null},n=e.checkIn,a=e.checkOut,r=e.shiftType;if(null===n||null===a)return t;var c,i=(c=new Date(n),(new Date(a).getTime()-c.getTime())/36e5-{0:7,1:9,2:9}[r]);return i<0||(t.type="CALCULATE_OVERTIME",t.payload=i),t}function ae(e){var t={type:"VALIDATE_FORM",payload:!0};return(null===e||null===e.checkOut||e.overtimeQuant<0)&&(t.payload=!1),t}function re(e){var t=e.checkOut,n=e.overtimeQuant,a={open:!0,message:"",severity:""};switch(!0){case null===t:a.message="Debes ingresar hora de salida \ud83e\udd7a",a.severity="error";break;case n<0:a.message="Hora de entrada o salida no v\xe1lidas \ud83d\ude1f",a.severity="error";break;default:a.message="Horas Guardadas \ud83d\ude0e",a.severity="success"}return a}var ce,ie=function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",backgroundColor:"transparent",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[Object(p.jsx)("defs",{children:Object(p.jsx)("clipPath",{id:"ldio-tp2uhmrgm7-cp",children:Object(p.jsx)("rect",{x:"0",y:"0",width:"100",height:"82.235"})})}),Object(p.jsx)("path",{stroke:"#dcdcdc",strokeWidth:"1",fill:"#dcdcdc",d:"M85.529 75.177H14.471c-2.469 0-4.471 2.002-4.471 4.471h80C90 77.179 87.998 75.177 85.529 75.177z"}),Object(p.jsx)("g",{clipPath:"url(#ldio-tp2uhmrgm7-cp)",children:Object(p.jsxs)("g",{children:[Object(p.jsx)("animateTransform",{attributeName:"transform",type:"translate",repeatCount:"indefinite",dur:"1.25s",values:"0 0;0 150",keyTimes:"0;1"}),Object(p.jsxs)("g",{transform:"translate(0 -75)",children:[Object(p.jsx)("path",{fill:"#ffb856",d:"M50 25c-13.785 0-25 11.215-25 25s11.215 25 25 25s25-11.216 25-25S63.784 25 50 25z M50 70.845 c-11.494 0-20.844-9.351-20.844-20.845S38.506 29.155 50 29.155S70.845 38.506 70.845 50S61.493 70.845 50 70.845z"}),Object(p.jsx)("path",{fill:"#ffd55d",d:"M50 29.155c-11.494 0-20.844 9.351-20.844 20.844S38.506 70.845 50 70.845S70.845 61.493 70.845 50S61.493 29.155 50 29.155 z"}),Object(p.jsx)("path",{fill:"#ffff34",d:"M48.11 62.796v-1.64c-1.535-0.068-3.041-0.358-4.281-0.765c-1.029-0.337-1.611-1.421-1.342-2.469 l0.043-0.167c0.297-1.158 1.521-1.781 2.653-1.395c1.152 0.392 2.465 0.662 3.855 0.662c2.032 0 3.421-0.783 3.421-2.21 c0-1.354-1.14-2.21-3.778-3.101c-3.814-1.283-6.416-3.066-6.416-6.523c0-3.137 2.211-5.596 6.025-6.345v-1.639 c0-0.965 0.782-1.746 1.746-1.746h0c0.965 0 1.746 0.782 1.746 1.746v1.39c1.275 0.057 2.327 0.226 3.21 0.459 c1.107 0.291 1.782 1.404 1.498 2.513v0c-0.287 1.118-1.44 1.803-2.546 1.473c-0.843-0.251-1.887-0.453-3.16-0.453 c-2.317 0-3.066 0.998-3.066 1.997c0 1.176 1.247 1.924 4.277 3.065c4.241 1.498 5.953 3.458 5.953 6.666 c0 3.173-2.246 5.882-6.345 6.594v1.89c0 0.965-0.782 1.746-1.746 1.746h-0.001C48.892 64.543 48.11 63.761 48.11 62.796z"})]})]})}),Object(p.jsx)("path",{stroke:"#dcdcdc",strokeWidth:"1",fill:"#dcdcdc",d:"M14.471 84.823h71.058c2.469 0 4.471-2.002 4.471-4.471v-0.704H10v0.704C10 82.821 12.002 84.823 14.471 84.823z"})]}),Object(p.jsx)("p",{className:"loading-text anim-typewriter",children:"Cargando..."}),Object(p.jsx)("style",{children:"\n                .loading-text { \n                  text-align: center; \n                  font-weight: bolder; \n                  font-size: 1.5rem; \n\n                  border-right: 5px solid rgba(255,255,255,.75);\n                  margin: 0 auto;\n                  overflow: hidden;\n                }\n                .anim-typewriter{\n                  animation: typewriter 1.5s steps(10)  infinite ,\n                             blinkTextCursor 500ms infinite ;\n                }\n                @keyframes typewriter{\n                  0%{width: 0;}\n                  50%{width: 165px;}\n                  100%{width: 165px;}\n                }\n                @keyframes blinkTextCursor{\n                  from{border-right-color: rgba(255,255,255,.75);}\n                  to{border-right-color: transparent;}\n                }\n        "})]})},oe=function(){var e={open:!1,message:"",autoHideDuration:3e3,severity:"success",anchorOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return h(Object(j.a)(Object(j.a)({},d),{},{open:!1}))},TransitionComponent:function(e){return Object(p.jsx)(H.a,Object(j.a)(Object(j.a)({},e),{},{direction:"down"}))}},t=Object(c.useContext)(f),n=t.ctx,i=t.dispatch,o=Object(c.useContext)(C).ctx,s=Object(c.useState)(e),l=Object(u.a)(s,2),d=l[0],h=l[1],b=Object(c.useState)(!1),O=Object(u.a)(b,2),m=O[0],v=O[1],y=function(e){i(function(e){var t,n,a,r={type:"NOT_ACTION",payload:null},c=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name,i=null!==(n=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)&&void 0!==n?n:e;return i instanceof Date&&i.setSeconds(0),r.type="UPDATE_STATE",r.payload=Object(te.a)({},c,i),r}(e)),i(ae(null))},w=function(){var e=Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),"success"!==(t=re(n)).severity){e.next=5;break}return e.next=5,q(o.uid,n);case 5:h(Object(j.a)(Object(j.a)({},d),t)),v(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(E.a,{className:"main-container",children:[Object(p.jsxs)(F.a,{component:"article",spacing:3,children:[Object(p.jsxs)(F.a,{component:"form",spacing:3,children:[Object(p.jsxs)(D.a,{fullWidth:!0,component:"fieldset",children:[Object(p.jsx)(z.a,{component:"legend",children:"Hora extra realizada:"}),Object(p.jsxs)(W.a,{className:"flex-container-evenly",value:Number(n.overtimeType),row:!0,onChange:y,"aria-label":"Hora extra realizada:",name:"Hora extra realizada:",defaultValue:"top",children:[Object(p.jsx)(R.a,{name:"overtimeType",value:a.fifty,control:Object(p.jsx)(L.a,{}),label:"50%",labelPlacement:"top"}),Object(p.jsx)(R.a,{name:"overtimeType",value:a.oneHundred,control:Object(p.jsx)(L.a,{}),label:"100%",labelPlacement:"top"})]})]}),Object(p.jsx)(D.a,{fullWidth:!0,children:Object(p.jsx)(Y.a,{label:"Hora de Entrada",value:n.checkIn,onChange:function(e){return y({target:{value:e,name:"checkIn"}})},renderInput:function(e){return Object(p.jsx)(_.a,Object(j.a)({},e))},minutesStep:15,ampm:!1,inputFormat:"dd/MM/yyyy HH:mm:ss"})}),Object(p.jsx)(D.a,{fullWidth:!0,children:Object(p.jsx)(Y.a,{label:"Hora de Salida",value:n.checkOut,onChange:function(e){return y({target:{value:e,name:"checkOut"}})},renderInput:function(e){return Object(p.jsx)(_.a,Object(j.a)({},e))},minDateTime:n.checkIn,maxDateTime:ee(n.checkIn,2),minutesStep:15,ampm:!1,inputFormat:"dd/MM/yyyy HH:mm:ss"})}),Object(p.jsxs)(D.a,{fullWidth:!0,children:[Object(p.jsx)(U.a,{id:"demo-simple-select-label",children:"Seleccione Turno"}),Object(p.jsxs)(P.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:Number(n.shiftType),label:"Seleccione Turno",name:"shiftType",onChange:y,children:[Object(p.jsx)(V.a,{value:r["Ma\xf1ana"],children:r[0]}),Object(p.jsx)(V.a,{value:r.Tarde,children:r[1]}),Object(p.jsx)(V.a,{value:r.Noche,children:r[2]})]})]}),Object(p.jsx)(D.a,{fullWidth:!0,children:Object(p.jsx)(G.a,{variant:"outlined",onClick:function(){var e,t=Object(j.a)(Object(j.a)({},n),{},{overtimeQuant:null!==(e=ne(n).payload)&&void 0!==e?e:-1}),a=re(t);i(ne(t)),i(ae(t)),"error"===a.severity&&h(Object(j.a)(Object(j.a)({},d),a))},children:"Calcular Horas"})})]}),Object(p.jsx)(Q.a,{className:"".concat(!1===n.isFormValidated&&"hidden"),elevation:5,children:Object(p.jsxs)(F.a,{component:"form",spacing:2,children:[Object(p.jsx)(B.a,{variant:"h5",component:"h5",align:"center",children:"Has realizado"}),Object(p.jsx)(B.a,{variant:"h3",component:"h3",align:"center",children:n.overtimeQuant}),Object(p.jsx)(B.a,{variant:"h5",component:"h5",align:"center",children:"Horas Extras"}),Object(p.jsx)(D.a,{fullWidth:!0,children:Object(p.jsx)(G.a,{variant:"contained",onClick:w,children:"Guardar Horas"})})]})})]}),Object(p.jsx)(J.a,Object(j.a)(Object(j.a)({},d),{},{children:Object(p.jsx)(X.a,{severity:d.severity,variant:"filled",sx:{width:"100%"},children:d.message})})),Object(p.jsx)(K.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:m,children:Object(p.jsx)(ie,{})})]})},se=function(){return Object(p.jsx)(p.Fragment,{})},le=n(252),de=n(253),ue=n(117),je=n.n(ue),he=n(118),be=n.n(he),pe=function(){var e=Object(c.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(p.jsx)(E.a,{disableGutters:!0,children:Object(p.jsxs)(le.a,{value:n,onChange:function(e,t){return a(t)},children:[Object(p.jsx)(de.a,{label:"Inicio",icon:Object(p.jsx)(je.a,{})}),Object(p.jsx)(de.a,{label:"Reportes",icon:Object(p.jsx)(be.a,{})})]})})};!function(e){e[e["/"]=0]="/",e[e["/reports"]=1]="/reports",e[e["/settings"]=2]="/settings"}(ce||(ce={}));var Oe=function(){return Object(p.jsx)(S.a,{children:Object(p.jsxs)(M.a,{className:"router-container",children:[Object(p.jsx)(M.a,{className:"router-body",children:Object(p.jsxs)(A.c,{children:[Object(p.jsx)(A.a,{exact:!0,path:"/",component:oe}),Object(p.jsx)(A.a,{exact:!0,path:ce["/reports"].toString(),component:se})]})}),Object(p.jsx)(M.a,{"data-bottom-navbar":!0,children:Object(p.jsx)(pe,{})})]})})};var fe=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.b,{dateAdapter:d.a,children:Object(p.jsx)(N,{children:Object(p.jsx)(m,{children:Object(p.jsx)(Oe,{})})})})})},me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(163);s.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(fe,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hoursManagement",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hoursManagement","/service-worker.js");me?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ve(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ve(t,e)}))}}()}},[[164,1,2]]]);
//# sourceMappingURL=main.df18844d.chunk.js.map