(this["webpackJsonphours-management"]=this["webpackJsonphours-management"]||[]).push([[0],{181:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a,r,c=n(1),i=n.n(c),o=n(59),s=n.n(o),l=n(260),u=n(249),d=n(242),j=n(251),h=n(12),p=n(19);!function(e){e[e.fifty=0]="fifty",e[e.oneHundred=1]="oneHundred"}(a||(a={})),function(e){e[e["Ma\xf1ana"]=0]="Ma\xf1ana",e[e.Tarde=1]="Tarde",e[e.Noche=2]="Noche"}(r||(r={}));var b=n(0),O={checkIn:null,checkOut:null,overtimeType:a.fifty,overtimeQuant:-1,shiftType:r["Ma\xf1ana"],isFormValidated:!1},f=Object(c.createContext)(null);function x(e){var t=e.children,n=Object(c.useReducer)(v,O),a=Object(h.a)(n,2),r=a[0],i=a[1];return Object(b.jsx)(f.Provider,{value:{ctx:r,dispatch:i},children:t})}function v(e,t){switch(t.type){case"CALCULATE_OVERTIME":return Object(p.a)(Object(p.a)({},e),{},{overtimeQuant:t.payload});case"VALIDATE_FORM":return Object(p.a)(Object(p.a)({},e),{},{isFormValidated:t.payload});case"UPDATE_STATE":return Object(p.a)(Object(p.a)({},e),t.payload);case"RESET_FORM":return O;default:return e}}function m(e,t){switch(t.type){case"FILL_INFORMATION":return t.payload;case"NOT_ACTION":return e}}var g={uid:"",firtname:"",lastname:"",email:""},y=Object(c.createContext)(null);function w(e){var t=e.children,n=Object(c.useReducer)(m,g),a=Object(h.a)(n,2),r=a[0],i=a[1];return Object(b.jsx)(y.Provider,{value:{userInformation:r,dispatch:i},children:t})}var k=n(94),C=n(25),T=n(248),S=["/auth","/","/resume","/settings"],I=n(18),N=n.n(I),M=n(29),L=n(238),A=n(264),H=n(239),E=n(265),F=n(240),_=n(266),D=n(241),R=n(262),U=n(267),P=n(253),z=n(258),W=n(273),B=n(252),G=n(259),Q=n(269),V=n(270),Y=n(256),Z=n(254),J=n(250),X=n(61);n(169),n(170);X.a.initializeApp({apiKey:"AIzaSyDGfASiU2jXFJ4boAwCiNupsFUmkEfsbCM",authDomain:"hour-management-e6747.firebaseapp.com",projectId:"hour-management-e6747",storageBucket:"hour-management-e6747.appspot.com",messagingSenderId:"761707441154",appId:"1:761707441154:web:0203745d9536d89a344b1b",measurementId:"G-E670GG057S"}),X.a.analytics();var q=new X.a.auth.GoogleAuthProvider,K=function(){return X.a.auth().signInWithPopup(q)},$=X.a.firestore(),ee=$.collection("users");function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(M.a)(N.a.mark((function e(t){var n,a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ee.doc(t).collection("dialHistory"),e.next=3,n.get();case 3:return a=e.sent,r=a.docs,e.abrupt("return",r.map((function(e){return e.data()})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return re.apply(this,arguments)}function re(){return(re=Object(M.a)(N.a.mark((function e(t,n){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,delete n.isFormValidated,a=n,r=ee.doc(t).collection("dialHistory"),e.next=6,r.add(a);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.log("Error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ce(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n.setHours(0,0,0,0),n}var ie=n(5);function oe(e){var t={type:"NOT_ACTION",payload:null},n=e.checkIn,a=e.checkOut,r=e.shiftType;if(null===n||null===a)return t;var c,i=(c=new Date(n),(new Date(a).getTime()-c.getTime())/36e5-{0:7.5,1:9,2:9}[r]);return i<0||(t.type="CALCULATE_OVERTIME",t.payload=i),t}function se(e){var t={type:"VALIDATE_FORM",payload:!0};return(null===e||null===e.checkOut||e.overtimeQuant<0)&&(t.payload=!1),t}function le(e){var t=e.checkOut,n=e.overtimeQuant,a={open:!0,message:"",severity:""};switch(!0){case null===t:a.message="Debes ingresar hora de salida \ud83e\udd7a",a.severity="error";break;case n<0:a.message="Hora de entrada o salida no v\xe1lidas \ud83d\ude1f",a.severity="error";break;default:a.message="Horas Guardadas \ud83d\ude0e",a.severity="success"}return a}var ue=n(261),de=function(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",backgroundColor:"transparent",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"ldio-tp2uhmrgm7-cp",children:Object(b.jsx)("rect",{x:"0",y:"0",width:"100",height:"82.235"})})}),Object(b.jsx)("path",{stroke:"#dcdcdc",strokeWidth:"1",fill:"#dcdcdc",d:"M85.529 75.177H14.471c-2.469 0-4.471 2.002-4.471 4.471h80C90 77.179 87.998 75.177 85.529 75.177z"}),Object(b.jsx)("g",{clipPath:"url(#ldio-tp2uhmrgm7-cp)",children:Object(b.jsxs)("g",{children:[Object(b.jsx)("animateTransform",{attributeName:"transform",type:"translate",repeatCount:"indefinite",dur:"1.25s",values:"0 0;0 150",keyTimes:"0;1"}),Object(b.jsxs)("g",{transform:"translate(0 -75)",children:[Object(b.jsx)("path",{fill:"#ffb856",d:"M50 25c-13.785 0-25 11.215-25 25s11.215 25 25 25s25-11.216 25-25S63.784 25 50 25z M50 70.845 c-11.494 0-20.844-9.351-20.844-20.845S38.506 29.155 50 29.155S70.845 38.506 70.845 50S61.493 70.845 50 70.845z"}),Object(b.jsx)("path",{fill:"#ffd55d",d:"M50 29.155c-11.494 0-20.844 9.351-20.844 20.844S38.506 70.845 50 70.845S70.845 61.493 70.845 50S61.493 29.155 50 29.155 z"}),Object(b.jsx)("path",{fill:"#ffff34",d:"M48.11 62.796v-1.64c-1.535-0.068-3.041-0.358-4.281-0.765c-1.029-0.337-1.611-1.421-1.342-2.469 l0.043-0.167c0.297-1.158 1.521-1.781 2.653-1.395c1.152 0.392 2.465 0.662 3.855 0.662c2.032 0 3.421-0.783 3.421-2.21 c0-1.354-1.14-2.21-3.778-3.101c-3.814-1.283-6.416-3.066-6.416-6.523c0-3.137 2.211-5.596 6.025-6.345v-1.639 c0-0.965 0.782-1.746 1.746-1.746h0c0.965 0 1.746 0.782 1.746 1.746v1.39c1.275 0.057 2.327 0.226 3.21 0.459 c1.107 0.291 1.782 1.404 1.498 2.513v0c-0.287 1.118-1.44 1.803-2.546 1.473c-0.843-0.251-1.887-0.453-3.16-0.453 c-2.317 0-3.066 0.998-3.066 1.997c0 1.176 1.247 1.924 4.277 3.065c4.241 1.498 5.953 3.458 5.953 6.666 c0 3.173-2.246 5.882-6.345 6.594v1.89c0 0.965-0.782 1.746-1.746 1.746h-0.001C48.892 64.543 48.11 63.761 48.11 62.796z"})]})]})}),Object(b.jsx)("path",{stroke:"#dcdcdc",strokeWidth:"1",fill:"#dcdcdc",d:"M14.471 84.823h71.058c2.469 0 4.471-2.002 4.471-4.471v-0.704H10v0.704C10 82.821 12.002 84.823 14.471 84.823z"})]}),Object(b.jsx)("p",{className:"loading-text anim-typewriter",children:"Cargando..."}),Object(b.jsx)("style",{children:"\n                .loading-text { \n                  text-align: center; \n                  font-weight: bolder; \n                  font-size: 1.5rem; \n\n                  border-right: 5px solid rgba(255,255,255,.75);\n                  margin: 0 auto;\n                  overflow: hidden;\n                }\n                .anim-typewriter{\n                  animation: typewriter 1.5s steps(10)  infinite ,\n                             blinkTextCursor 500ms infinite ;\n                }\n                @keyframes typewriter{\n                  0%{width: 0;}\n                  50%{width: 165px;}\n                  100%{width: 165px;}\n                }\n                @keyframes blinkTextCursor{\n                  from{border-right-color: rgba(255,255,255,.75);}\n                  to{border-right-color: transparent;}\n                }\n        "})]})},je=function(e){var t=e.isLoading;return Object(b.jsx)(ue.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t,children:Object(b.jsx)(de,{})})},he=function(){var e={open:!1,message:"",autoHideDuration:3e3,severity:"success",anchorOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return d(Object(p.a)(Object(p.a)({},u),{},{open:!1}))},TransitionComponent:function(e){return Object(b.jsx)(L.a,Object(p.a)(Object(p.a)({},e),{},{direction:"down"}))}},t=Object(c.useContext)(f),n=t.ctx,i=t.dispatch,o=Object(c.useContext)(y).userInformation,s=Object(c.useState)(e),l=Object(h.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)(!1),O=Object(h.a)(j,2),x=O[0],v=O[1],m=function(e){i(function(e){var t,n,a,r={type:"NOT_ACTION",payload:null},c=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name,i=null!==(n=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)&&void 0!==n?n:e;return i instanceof Date&&i.setSeconds(0),r.type="UPDATE_STATE",r.payload=Object(ie.a)({},c,i),r}(e)),i(se(null))},g=function(){var e=Object(M.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),"success"!==(t=le(n)).severity){e.next=7;break}return e.next=5,ae(o.uid,n);case 5:!0===e.sent&&i({type:"RESET_FORM",payload:null});case 7:d(Object(p.a)(Object(p.a)({},u),t)),v(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(A.a,{className:"main-container",children:[Object(b.jsxs)(H.a,{component:"article",spacing:3,children:[Object(b.jsx)(E.a,{variant:"h4",children:"Agregar Horas"}),Object(b.jsx)(F.a,{}),Object(b.jsxs)(H.a,{component:"form",spacing:3,children:[Object(b.jsxs)(_.a,{fullWidth:!0,component:"fieldset",children:[Object(b.jsx)(D.a,{component:"legend",children:"Hora extra realizada:"}),Object(b.jsxs)(R.a,{className:"flex-container-evenly",value:Number(n.overtimeType),row:!0,onChange:m,"aria-label":"Hora extra realizada:",name:"Hora extra realizada:",defaultValue:"top",children:[Object(b.jsx)(U.a,{name:"overtimeType",value:a.fifty,control:Object(b.jsx)(P.a,{}),label:"50%",labelPlacement:"top"}),Object(b.jsx)(U.a,{name:"overtimeType",value:a.oneHundred,control:Object(b.jsx)(P.a,{}),label:"100%",labelPlacement:"top"})]})]}),Object(b.jsx)(_.a,{fullWidth:!0,children:Object(b.jsx)(J.a,{label:"Hora de Entrada",value:n.checkIn,onChange:function(e){return m({target:{value:e,name:"checkIn"}})},renderInput:function(e){return Object(b.jsx)(z.a,Object(p.a)({},e))},minutesStep:15,ampm:!1,inputFormat:"dd/MM/yyyy HH:mm:ss"})}),Object(b.jsx)(_.a,{fullWidth:!0,children:Object(b.jsx)(J.a,{label:"Hora de Salida",value:n.checkOut,onChange:function(e){return m({target:{value:e,name:"checkOut"}})},renderInput:function(e){return Object(b.jsx)(z.a,Object(p.a)({},e))},minDateTime:n.checkIn,maxDateTime:ce(n.checkIn,2),minutesStep:15,ampm:!1,inputFormat:"dd/MM/yyyy HH:mm:ss"})}),Object(b.jsxs)(_.a,{fullWidth:!0,children:[Object(b.jsx)(W.a,{id:"demo-simple-select-label",children:"Seleccione Turno"}),Object(b.jsxs)(B.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:Number(n.shiftType),label:"Seleccione Turno",name:"shiftType",onChange:m,children:[Object(b.jsx)(G.a,{value:r["Ma\xf1ana"],children:r[0]}),Object(b.jsx)(G.a,{value:r.Tarde,children:r[1]}),Object(b.jsx)(G.a,{value:r.Noche,children:r[2]})]})]}),Object(b.jsx)(_.a,{fullWidth:!0,children:Object(b.jsx)(Q.a,{variant:"outlined",onClick:function(){var e,t=Object(p.a)(Object(p.a)({},n),{},{overtimeQuant:null!==(e=oe(n).payload)&&void 0!==e?e:-1}),a=le(t);i(oe(t)),i(se(t)),"error"===a.severity&&d(Object(p.a)(Object(p.a)({},u),a))},children:"Calcular Horas"})})]}),Object(b.jsx)(V.a,{className:"".concat(!1===n.isFormValidated&&"hidden"),elevation:5,children:Object(b.jsxs)(H.a,{component:"form",spacing:2,children:[Object(b.jsx)(E.a,{variant:"h5",component:"h5",align:"center",children:"Has realizado"}),Object(b.jsx)(E.a,{variant:"h3",component:"h3",align:"center",children:n.overtimeQuant}),Object(b.jsx)(E.a,{variant:"h5",component:"h5",align:"center",children:"Horas Extras"}),Object(b.jsx)(_.a,{fullWidth:!0,children:Object(b.jsx)(Q.a,{variant:"contained",onClick:g,children:"Guardar Horas"})})]})})]}),Object(b.jsx)(Y.a,Object(p.a)(Object(p.a)({},u),{},{children:Object(b.jsx)(Z.a,{severity:u.severity,variant:"filled",sx:{width:"100%"},children:u.message})})),Object(b.jsx)(je,{isLoading:x})]})};function pe(e){var t=S.findIndex((function(t){return t.toLowerCase()===e.toLowerCase()}));if(-1===t)throw new Error("ROUTE ".concat(e.toLowerCase()," NOT FOUND"));return t}function be(e,t,n){var a,r=pe("/auth");0===(null===e||void 0===e||null===(a=e.uid)||void 0===a?void 0:a.length)?t.replace(S[r]):t.push(n)}var Oe=function(){return Object(b.jsxs)("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(b.jsx)("title",{children:"btn_google_dark_normal_ios"}),Object(b.jsx)("desc",{children:"Created with Sketch."}),Object(b.jsxs)("defs",{children:[Object(b.jsxs)("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1",children:[Object(b.jsx)("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),Object(b.jsx)("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),Object(b.jsx)("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),Object(b.jsx)("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),Object(b.jsx)("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),Object(b.jsx)("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),Object(b.jsxs)("feMerge",{children:[Object(b.jsx)("feMergeNode",{in:"shadowMatrixOuter1"}),Object(b.jsx)("feMergeNode",{in:"shadowMatrixOuter2"}),Object(b.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),Object(b.jsx)("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),Object(b.jsx)("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})]}),Object(b.jsxs)("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(b.jsx)("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),Object(b.jsxs)("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)",children:[Object(b.jsx)("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)",children:Object(b.jsxs)("g",{id:"button-bg",children:[Object(b.jsx)("use",{fill:"#4285F4",fillRule:"evenodd",xlinkHref:"#path-2"}),Object(b.jsx)("use",{fill:"none",xlinkHref:"#path-2"}),Object(b.jsx)("use",{fill:"none",xlinkHref:"#path-2"}),Object(b.jsx)("use",{fill:"none",xlinkHref:"#path-2"})]})}),Object(b.jsxs)("g",{id:"button-bg-copy",children:[Object(b.jsx)("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-3"}),Object(b.jsx)("use",{fill:"none",xlinkHref:"#path-3"}),Object(b.jsx)("use",{fill:"none",xlinkHref:"#path-3"}),Object(b.jsx)("use",{fill:"none",xlinkHref:"#path-3"})]}),Object(b.jsxs)("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)",children:[Object(b.jsx)("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),Object(b.jsx)("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),Object(b.jsx)("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),Object(b.jsx)("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),Object(b.jsx)("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})]}),Object(b.jsx)("g",{id:"handles_square"})]})]})]})},fe={"auth/popup-closed-by-user":"NO SE HA COMPLETADO LA AUTENTICACI\xd3N","auth/cancelled-popup-request":"NO SE HA COMPLETADO LA AUTENTICACI\xd3N"};function xe(e){if(Object.keys(e).includes("uid"))return{type:"FILL_INFORMATION",payload:e};var t={type:"NOT_ACTION",payload:null},n=e.additionalUserInfo;if(void 0===(null===n||void 0===n?void 0:n.profile)||null===(null===n||void 0===n?void 0:n.profile))return console.error("NOT FOUND USER INFORMATION"),t;var a=n.profile;for(var r in a)if(void 0===a[r])return console.error("PROPERTY ".concat(r.toUpperCase()," IS UNDEFINED")),t;var c={uid:a.id,email:a.email.toUpperCase(),firtname:a.given_name.toUpperCase(),lastname:a.family_name.toUpperCase()};return t.type="FILL_INFORMATION",t.payload=c,t}var ve=$.collection("users");function me(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(M.a)(N.a.mark((function e(t){var n,a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ve.where("email","==",t.toUpperCase()),e.next=3,n.get();case 3:return a=e.sent,r=1===a.docs.length?Object(p.a)(Object(p.a)({},a.docs[0].data()),{},{uid:a.docs[0].id}):null,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return we.apply(this,arguments)}function we(){return(we=Object(M.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(n=Object(p.a)({},t)).uid,e.next=4,ve.add(n);case 4:return a=e.sent,e.abrupt("return",a.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(M.a)(N.a.mark((function e(){var t,n,a,r,c,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K();case 3:return a=e.sent,r=null!==(t=null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.email)&&void 0!==t?t:"",e.next=7,me(r);case 7:if(null!==(c=e.sent)){e.next=15;break}return i=xe(a),e.next=12,ye(i.payload);case 12:return o=e.sent,i.payload.uid=o,e.abrupt("return",i);case 15:return e.abrupt("return",{type:"FILL_INFORMATION",payload:c});case 19:e.prev=19,e.t0=e.catch(0),void 0!==fe[null===e.t0||void 0===e.t0?void 0:e.t0.code]&&console.error(fe[null===e.t0||void 0===e.t0?void 0:e.t0.code]),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}var Te=function(){var e=Object(c.useContext)(y),t=e.userInformation,n=e.dispatch,a=Object(C.g)(),r=function(){var e=Object(M.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:n(t),be(t.payload,a,"/");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){be(t,a,"/")}),[null===t||void 0===t?void 0:t.uid]),Object(b.jsx)(A.a,{style:{height:"calc(100% - 56px)"},children:Object(b.jsx)(H.a,{style:{transform:"translate(0px, 56px)"},minHeight:"100%",direction:"column",alignItems:"center",justifyContent:"center",children:Object(b.jsx)(Q.a,{className:"button-logIn",variant:"contained",startIcon:Object(b.jsx)(Oe,{}),onClick:r,children:"Iniciar Sesi\xf3n Con Google"})})})},Se=n(23),Ie=n(277),Ne=n(278),Me=n(279),Le=n(274),Ae=n(275),He=n(280);function Ee(e,t){var n=new Date(e.getTime()),a=n.getMonth();return n.setMonth(a+t),n}function Fe(e){return new Date(1e3*e)}function _e(e){return De.apply(this,arguments)}function De(){return(De=Object(M.a)(N.a.mark((function e(t){var n,a,r,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,a=864e5,e.next=4,fetch("https://apis.digital.gob.cl/fl/feriados/".concat(t.getFullYear(),"/").concat(t.getMonth()+1));case 4:return r=e.sent,e.next=7,r.json();case 7:for(c=e.sent,i=c.map((function(e){return new Date(e.fecha).getDate()+1}));!1===n;)6===t.getDay()||0===t.getDay()||!0===i.includes(t.getDate())?(t=new Date(t.getTime()+a),n=!0!==i.includes(t.getDate())):n=!0;return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){return Intl.DateTimeFormat("es-CL",{month:"long"}).format(e)}var Ue=new Promise((function(e){return e({})}));function Pe(e){return e.reduce(function(){var e=Object(M.a)(N.a.mark((function e(t,n){var a,r,c,i,o,s,l,u,d,j,h,p,b;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return a=e.sent,r=Fe(n.checkOut.seconds),e.next=6,_e(r);case 6:return c=e.sent,i=Ee(c,-1),o=Ee(c,0),s=Ee(c,1),l=i.getFullYear(),u=o.getFullYear(),d=s.getFullYear(),j=Re(i),h=Re(o),p=Re(s),b=c.getDate()<=19?"".concat(i.getMonth(),"_").concat(j,"_").concat(l,"_a_").concat(h,"_").concat(u):"".concat(o.getMonth(),"_").concat(h,"_").concat(u,"_a_").concat(p,"_").concat(d),!0===a.hasOwnProperty(b)?a[b].push(n):a[b]=[n],e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue)}function ze(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=[],n=0;n<64;n++){var a=e.charAt(Math.round(Math.random()*e.length));""!==a?t.push(a):n--}return t.join("").replace(/(.{8})/g,"-$1").substring(1)}var We=n(268),Be=n(276),Ge=n(133),Qe=n.n(Ge),Ve=n(132),Ye=n.n(Ve),Ze=function(e){var t=e.dialHistory,n=Fe(t.checkOut.seconds),a=t.overtimeQuant,r=t.overtimeType;return Object(b.jsxs)(Le.a,{children:[Object(b.jsx)(Ae.a,{colSpan:3,align:"center",children:n.toLocaleDateString("es-CL")}),Object(b.jsx)(Ae.a,{colSpan:2,align:"center",children:0===r?a:"-"}),Object(b.jsx)(Ae.a,{colSpan:2,align:"center",children:1===r?a:"-"})]})},Je=function(e){var t=e.dialHistory,n=e.periodName,a=e.totalOvertime,r=Object(c.useState)(!1),i=Object(h.a)(r,2),o=i[0],s=i[1],l=n.split("_").slice(1).join(" ").toUpperCase();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(Le.a,{children:[Object(b.jsx)(Ae.a,{colSpan:3,align:"center",children:l}),Object(b.jsx)(Ae.a,{colSpan:2,align:"center",children:a[50]}),Object(b.jsx)(Ae.a,{colSpan:2,align:"center",children:a[100]}),Object(b.jsx)(Ae.a,{colSpan:1,align:"center",children:Object(b.jsx)(We.a,{size:"small",onClick:function(){return s(!o)},children:o?Object(b.jsx)(Ye.a,{}):Object(b.jsx)(Qe.a,{})})})]}),Object(b.jsx)(Le.a,{children:Object(b.jsx)(Ae.a,{style:{padding:0},colSpan:8,children:Object(b.jsx)(Be.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(b.jsx)(A.a,{children:Object(b.jsx)(Ie.a,{children:Object(b.jsxs)(Ne.a,{stickyHeader:!0,size:"small",children:[Object(b.jsxs)(Me.a,{children:[Object(b.jsxs)(Le.a,{children:[Object(b.jsx)(Ae.a,{colSpan:3,rowSpan:2,align:"center",children:"Fecha"}),Object(b.jsx)(Ae.a,{colSpan:4,align:"center",children:"Horas"})]}),Object(b.jsxs)(Le.a,{children:[Object(b.jsx)(Ae.a,{colSpan:2,align:"center",children:"50%"}),Object(b.jsx)(Ae.a,{colSpan:2,align:"center",children:"100%"})]})]}),Object(b.jsx)(He.a,{sx:{backgroundColor:"#121212"},children:t.map((function(e){return Object(b.jsx)(Ze,{dialHistory:e},ze())}))})]})})})})})})]})},Xe={50:0,100:0},qe=function(){var e=Object(c.useContext)(y).userInformation,t=Object(c.useState)([]),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(h.a)(i,2),s=o[0],l=o[1],u=function(e,t){var n=[].concat(Object(Se.a)(e),[t]);return n.sort((function(e,t){var n=Number(e.props.periodName.split("_")[0]),a=Number(t.props.periodName.split("_")[0]);return n>a?1:n<a?-1:0})),n},d=function(){var t=Object(M.a)(N.a.mark((function t(){var n,a,c,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(e.uid);case 2:return n=t.sent,t.next=5,Pe(n);case 5:for(i in a=t.sent,c=function(e){var t=a[e].reduce((function(e,t){return 0===t.overtimeType?e[50]+=t.overtimeQuant:e[100]+=t.overtimeQuant,e}),Xe),n=Object(b.jsx)(Je,{dialHistory:a[e],periodName:e,totalOvertime:Object(p.a)({},t)},ze());r((function(e){return u(e,n)}))},a)c(i);l(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){l(!0),0!==(null===e||void 0===e?void 0:e.uid.length)&&Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}),[e.uid]),Object(b.jsxs)(A.a,{className:"main-container",children:[Object(b.jsxs)(H.a,{spacing:3,children:[Object(b.jsx)(E.a,{variant:"h4",children:"Resumen"}),Object(b.jsx)(F.a,{}),Object(b.jsx)(Ie.a,{className:"white",children:Object(b.jsxs)(Ne.a,{stickyHeader:!0,size:"small",children:[Object(b.jsxs)(Me.a,{children:[Object(b.jsxs)(Le.a,{children:[Object(b.jsx)(Ae.a,{colSpan:3,rowSpan:2,align:"center",children:"Per\xedodo"}),Object(b.jsx)(Ae.a,{colSpan:6,align:"center",children:"Horas"})]}),Object(b.jsxs)(Le.a,{children:[Object(b.jsx)(Ae.a,{colSpan:3,align:"center",children:"50%"}),Object(b.jsx)(Ae.a,{colSpan:2,align:"left",children:"100%"})]})]}),Object(b.jsx)(He.a,{sx:{backgroundColor:"#121212"},children:null!==a&&a.map((function(e){return e}))})]})})]}),Object(b.jsx)(je,{isLoading:s})]})},Ke=n(247),$e=n(281),et=n(282),tt=n(134),nt=n.n(tt),at=n(135),rt=n.n(at),ct=function(){var e=Object(c.useState)(1),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(C.g)();return Object(c.useEffect)((function(){var e=pe(r.location.pathname);a(e)}),[r.location.pathname]),Object(b.jsx)(A.a,{disableGutters:!0,children:Object(b.jsxs)($e.a,{value:n,onChange:function(e,t){a(t),r.push(S[t])},children:[Object(b.jsx)(et.a,{value:pe("/"),label:"Inicio",icon:Object(b.jsx)(nt.a,{})}),Object(b.jsx)(et.a,{value:pe("/resume"),label:"Resumen",icon:Object(b.jsx)(rt.a,{})})]})})},it=function(e){var t,n=Object(c.useContext)(y).userInformation,a=e.exact,r=e.path,i=e.Component,o=Object(C.g)();return Object(c.useEffect)((function(){be(n,o,r)}),[null===n||void 0===n?void 0:n.uid]),0===(null===n||void 0===n||null===(t=n.uid)||void 0===t?void 0:t.length)?Object(b.jsx)(C.a,{to:S[0]}):Object(b.jsxs)(Ke.a,{children:[Object(b.jsx)(Ke.a,{children:Object(b.jsx)(C.b,{exact:a,path:r,component:function(e){return Object(b.jsx)(i,Object(p.a)({},e))}})}),Object(b.jsx)(Ke.a,{"data-bottom-navbar":!0,children:Object(b.jsx)(ct,{})})]})},ot=function(){return Object(b.jsx)(k.a,{basename:"/hoursManagement",hashType:"slash",children:Object(b.jsx)(T.a,{className:"router-container",children:Object(b.jsx)(T.a,{className:"router-body",children:Object(b.jsxs)(C.d,{children:[Object(b.jsx)(it,{exact:!0,path:S[1],Component:he}),Object(b.jsx)(it,{exact:!0,path:S[2],Component:qe}),Object(b.jsx)(C.b,{exact:!0,path:S[0],component:Te}),Object(b.jsx)(C.a,{to:S[0]})," "]})})})})},st=n(116),lt=Object(st.a)({palette:{mode:"dark"}});var ut=function(){return Object(b.jsx)(l.a,{theme:lt,children:Object(b.jsx)(u.a,{children:Object(b.jsx)(w,{children:Object(b.jsx)(d.b,{dateAdapter:j.a,children:Object(b.jsx)(x,{children:Object(b.jsx)(ot,{})})})})})})},dt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function jt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(181);s.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(ut,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hoursManagement",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hoursManagement","/service-worker.js");dt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):jt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):jt(t,e)}))}}()}},[[182,1,2]]]);
//# sourceMappingURL=main.7ab84f10.chunk.js.map